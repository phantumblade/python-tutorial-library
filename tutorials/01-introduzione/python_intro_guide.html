<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Introduzione a Python - Python Tutorial Library</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #3498db;
            --secondary-color: #2c3e50;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --purple-color: #9b59b6;
            --dark-blue: #34495e;
            --python-blue: #3776ab;
            --python-yellow: #ffd343;
            --light-bg: #ecf0f1;
            --white: #ffffff;
            --text-color: #2c3e50;
            --text-light: #7f8c8d;
            --border-color: #e0e6ed;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: var(--light-bg);
            overflow-x: hidden;
        }

        /* Header Styles */
        header {
            background: var(--white);
            box-shadow: var(--shadow);
            position: sticky;
            top: 0;
            z-index: 1000;
            border-bottom: 1px solid var(--border-color);
            transition: transform 0.3s ease;
        }

        .header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            width: 100%;
            box-sizing: border-box;
        }

        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            position: relative;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-decoration: none;
            color: var(--text-color);
            z-index: 1001;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--python-blue);
            font-size: 2rem;
        }

        .logo h1 {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--secondary-color);
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--text-color);
            font-weight: 500;
            font-size: 0.95rem;
            padding: 0.6rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-links a:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-1px);
        }

        .nav-links a i {
            font-size: 0.85rem;
        }

        /* Dropdown Menu Desktop */
        .dropdown {
            position: relative;
        }

        .dropdown-toggle {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .dropdown-toggle .fa-chevron-down {
            font-size: 0.7rem;
            transition: transform 0.3s ease;
        }

        .dropdown:hover .fa-chevron-down {
            transform: rotate(180deg);
        }

        .dropdown-menu {
            position: absolute;
            top: 100%;
            left: 0;
            min-width: 220px;
            background: var(--white);
            border-radius: 8px;
            box-shadow: var(--shadow-lg);
            border: 1px solid var(--border-color);
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .dropdown:hover .dropdown-menu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1rem;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border-radius: 6px;
            margin: 0.25rem;
        }

        .dropdown-item:hover {
            background: var(--primary-color);
            color: white;
            transform: translateX(4px);
        }

        .dropdown-item i {
            font-size: 0.8rem;
            width: 16px;
        }

        /* Mobile Sidebar */
        .mobile-sidebar-toggle {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--text-color);
            cursor: pointer;
            z-index: 1001;
            transition: color 0.3s ease;
        }

        .mobile-sidebar-toggle:hover {
            color: var(--primary-color);
        }

        .mobile-sidebar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .mobile-sidebar.active {
            pointer-events: all;
            opacity: 1;
        }

        .sidebar-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }

        .sidebar-content {
            position: absolute;
            top: 0;
            right: 0;
            width: 320px;
            max-width: 85vw;
            height: 100%;
            background: var(--white);
            box-shadow: -4px 0 20px rgba(0, 0, 0, 0.15);
            transform: translateX(100%);
            transition: transform 0.3s ease;
            overflow-y: auto;
        }

        .mobile-sidebar.active .sidebar-content {
            transform: translateX(0);
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            background: var(--python-blue);
            color: white;
        }

        .sidebar-header h3 {
            margin: 0;
            font-size: 1.1rem;
            font-weight: 600;
        }

        .sidebar-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 4px;
            transition: background 0.3s ease;
        }

        .sidebar-close:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .sidebar-menu {
            padding: 1rem 0;
        }

        .sidebar-link {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 1rem 1.5rem;
            color: var(--text-color);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .sidebar-link:hover {
            background: rgba(52, 152, 219, 0.1);
            color: var(--primary-color);
            border-left-color: var(--primary-color);
        }

        .sidebar-section {
            margin: 0.5rem 0;
        }

        .sidebar-section-toggle {
            width: 100%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            background: none;
            border: none;
            color: var(--text-color);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .sidebar-section-toggle:hover {
            background: rgba(52, 152, 219, 0.05);
            color: var(--primary-color);
        }

        .sidebar-section-toggle span {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .toggle-icon {
            font-size: 0.8rem;
            transition: transform 0.3s ease;
        }

        .sidebar-section.active .toggle-icon {
            transform: rotate(180deg);
        }

        .sidebar-submenu {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background: var(--light-bg);
        }

        .sidebar-section.active .sidebar-submenu {
            max-height: 400px;
        }

        .sidebar-sublink {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 2.5rem;
            color: var(--text-light);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            border-left: 3px solid transparent;
        }

        .sidebar-sublink:hover {
            background: rgba(52, 152, 219, 0.1);
            color: var(--primary-color);
            border-left-color: var(--primary-color);
        }

        .sidebar-sublink i {
            font-size: 0.8rem;
            width: 16px;
        }

        .sidebar-sublink.active {
            background: rgba(52, 152, 219, 0.15);
            color: var(--primary-color);
            border-left-color: var(--primary-color);
            font-weight: 600;
        }

        /* Hero Section */
        .hero {
            background: var(--python-blue);
            color: white;
            padding: 3rem 0;
            text-align: center;
        }

        .hero-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 1rem;
        }

        .hero h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 1rem;
            opacity: 0;
            animation: fadeInUp 0.8s ease forwards;
        }

        .hero p {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 2rem;
            opacity: 0;
            animation: fadeInUp 0.8s ease 0.2s forwards;
            line-height: 1.5;
        }

        /* Optimized Main Content */
        /* Main Content - Ottimizzato per utilizzare tutto lo spazio */
        .main-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem 2rem;
            width: 100%;
            box-sizing: border-box;
        }

        .section {
            margin-bottom: 3rem;
            position: relative;
        }

        .section-header {
            text-align: center;
            margin-bottom: 2rem;
            position: relative;
        }

        .section-title {
            font-size: 2.2rem;
            font-weight: 800;
            color: var(--secondary-color);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            position: relative;
        }

        .section-title i {
            color: var(--python-blue);
            font-size: 1.6rem;
            padding: 0.5rem;
            background: rgba(55, 118, 171, 0.1);
            border-radius: 10px;
        }

        .section-subtitle {
            color: var(--text-light);
            font-size: 1.1rem;
            font-weight: 400;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .section-header::after {
            content: '';
            position: absolute;
            bottom: -1rem;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 4px;
            background: linear-gradient(90deg, var(--python-blue), var(--primary-color));
            border-radius: 2px;
        }


        /* Content Sections */
        .content-section {
            margin-bottom: 4rem;
        }

        .content-section-title {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 2rem;
            font-weight: 700;
            color: var(--text-color);
            margin-bottom: 2rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--python-blue);
        }

        .content-section-icon {
            width: 3rem;
            height: 3rem;
            background: var(--python-blue);
            color: var(--white);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        /* Optimized Grid Layout */
        /* Optimized Grid Layout */
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 1.5rem;
            align-items: start;
            width: 100%;
            max-width: 100%;
        }

        .grid-compact {
            gap: 1rem;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            width: 100%;
            max-width: 100%;
        }

        .grid-2 {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            width: 100%;
            max-width: 100%;
            align-items: start;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            width: 100%;
            max-width: 100%;
            align-items: start;
        }

        /* Esercizi: forza 2x2 invece di 3+1 */
        .grid-exercises {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            width: 100%;
            max-width: 100%;
            align-items: start;
        }

        /* Blocchi codice complessi occupano più spazio */
        .card.wide-code {
            grid-column: span 2;
        }

        .card.full-width {
            grid-column: 1 / -1;
        }

        /* Clean Card Styles */
        .card {
            background: var(--white);
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            border: 1px solid var(--border-color);
            transition: all 0.2s ease;
            text-decoration: none;
            color: inherit;
            position: relative;
            display: block;
        }

        .card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--python-blue);
            transform: scaleX(0);
            transition: transform 0.2s ease;
            border-radius: 12px 12px 0 0;
        }

        .card:hover::before {
            transform: scaleX(1);
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            border-color: var(--python-blue);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .card-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            color: white;
            flex-shrink: 0;
            background: var(--python-blue);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--secondary-color);
            margin: 0;
            line-height: 1.3;
        }

        .card-description {
            color: var(--text-light);
            margin-bottom: 1.25rem;
            line-height: 1.5;
            font-size: 0.95rem;
        }

        .code-block {
            background: #1e1e1e;
            color: #e1e1e1;
            padding: 0.875rem;
            border-radius: 8px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 0.8rem;
            border-left: 3px solid var(--python-blue);
            line-height: 1.4;
            word-wrap: break-word;
            white-space: pre-wrap;
            overflow-wrap: break-word;
            margin: 0.75rem 0;
        }

        .keyword { color: #569cd6; }
        .string { color: #ce9178; }
        .number { color: #b5cea8; }
        .comment { color: #6a9955; }
        .function { color: #dcdcaa; }

        /* Clean Highlight Blocks */
        .highlight {
            background: #fff9e6;
            padding: 1rem;
            border-radius: 8px;
            border-left: 4px solid var(--warning-color);
            margin: 1rem 0;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .highlight-icon {
            color: var(--warning-color);
            margin-right: 0.5rem;
            font-size: 1rem;
        }

        /* Clean Interactive Demo */
        .interactive-demo {
            background: var(--light-bg);
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 1px solid var(--border-color);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .interactive-demo::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--python-blue);
            border-radius: 12px 12px 0 0;
        }

        .demo-title {
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .code-input {
            width: 100%;
            min-width: 0;
            max-width: 100%;
            min-height: 100px;
            padding: 0.875rem;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            font-family: 'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, 'Courier New', monospace;
            font-size: 0.85rem;
            background: #1e1e1e;
            color: #e1e1e1;
            resize: vertical;
            margin-bottom: 1rem;
            box-sizing: border-box;
            line-height: 1.4;
            white-space: pre-wrap;
            word-wrap: break-word;
            overflow-wrap: break-word;
            tab-size: 4;
        }

        .demo-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        /* Clean Button Styles */
        .btn {
            background: var(--python-blue);
            color: var(--white);
            border: none;
            padding: 0.7rem 1.4rem;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            text-decoration: none;
            position: relative;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .btn:hover {
            background: var(--primary-color);
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
        }

        .btn:active {
            transform: translateY(0);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .btn:disabled {
            background: var(--text-light);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: var(--white);
            color: var(--python-blue);
            border: 2px solid var(--python-blue);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }

        .btn-secondary:hover {
            background: var(--python-blue);
            color: var(--white);
        }

        .output {
            background: var(--white);
            border: 1px solid var(--border-color);
            border-radius: 0.5rem;
            padding: 1rem;
            font-family: 'SF Mono', Monaco, monospace;
            font-size: 0.85rem;
            white-space: pre-wrap;
            color: var(--text-color);
            min-height: 50px;
            max-height: 200px;
            overflow-y: auto;
        }

        .output.success {
            border-color: var(--success-color);
            background: #f8fff8;
        }

        .output.error {
            border-color: var(--accent-color);
            background: #fff8f8;
            color: var(--accent-color);
        }

        .operator-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
            margin: 2rem 0;
        }

        .operator-item {
            background: var(--white);
            border: 2px solid var(--primary-blue);
            color: var(--primary-blue);
            padding: 1rem;
            border-radius: 0.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .operator-item:hover {
            background: var(--primary-blue);
            color: var(--white);
            transform: translateY(-2px);
        }

        .operator-symbol {
            font-size: 1.5rem;
            font-weight: bold;
            font-family: 'SF Mono', Monaco, monospace;
            margin-bottom: 0.5rem;
        }

        .operator-name {
            font-size: 0.85rem;
            font-weight: 500;
        }

        .type-list {
            display: grid;
            gap: 1rem;
        }

        .type-item {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: var(--white);
            border-radius: 0.5rem;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
        }

        .type-item:hover {
            border-color: var(--primary-blue);
            transform: translateX(5px);
        }

        .type-icon {
            width: 2.5rem;
            height: 2.5rem;
            background: var(--primary-blue);
            color: var(--white);
            border-radius: 0.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .type-content h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .type-content p {
            color: var(--text-light);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        /* Footer */
        .footer {
            background: var(--secondary-color);
            color: white;
            padding: 1.5rem 0;
            text-align: center;
            margin-top: 3rem;
        }

        .footer p {
            opacity: 0.8;
            margin: 0;
            font-size: 0.9rem;
            padding: 0 1rem;
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Scroll Animation */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.6s ease;
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Optimized Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .mobile-sidebar-toggle {
                display: block;
            }

            .logo h1 {
                font-size: 1.1rem;
            }

            .logo-icon {
                width: 32px;
                height: 32px;
                font-size: 1.6rem;
            }

            .navbar {
                padding: 0.75rem 0;
            }

            .hero {
                padding: 2rem 0;
            }

            .hero h2 {
                font-size: 1.6rem;
                line-height: 1.2;
            }

            .hero p {
                font-size: 0.95rem;
            }

            .main-content {
                padding: 1.5rem 1rem;
                max-width: 100vw;
                overflow-x: hidden;
            }

            .section {
                margin-bottom: 2.5rem;
            }

            .section-header {
                margin-bottom: 1.5rem;
            }

            .section-title {
                font-size: 1.6rem;
                flex-direction: column;
                gap: 0.5rem;
            }

            .section-title i {
                font-size: 1.3rem;
                padding: 0.4rem;
            }

            .section-subtitle {
                font-size: 0.95rem;
            }

            .grid, .grid-2, .grid-3, .grid-compact {
                grid-template-columns: 1fr;
                gap: 1.25rem;
            }
            
            .grid-exercises {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .grid-exercises .card {
                min-width: 100%;
                width: 100%;
            }

            .card.wide-code, .card.full-width {
                grid-column: 1;
                min-width: 100%;
            }

            .card {
                padding: 1.25rem;
            }

            .card-icon {
                width: 36px;
                height: 36px;
                font-size: 1rem;
            }

            .card-title {
                font-size: 1.1rem;
            }

            .card-description {
                font-size: 0.9rem;
                margin-bottom: 1rem;
            }

            .header-container {
                padding: 0 1rem;
                max-width: 100vw;
                overflow-x: hidden;
            }

            .operator-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 0.75rem;
            }

            .interactive-demo {
                padding: 1.25rem;
                max-width: 100%;
                overflow-x: hidden;
            }

            .code-input {
                max-width: 100%;
                overflow-x: auto;
                font-size: 0.8rem;
            }

            .nav-popup {
                width: 45px;
                right: 0.5rem;
            }
            
            .nav-pill {
                width: 32px;
                height: 32px;
                font-size: 0.6rem;
            }
            
            .nav-toggle {
                width: 24px;
                height: 24px;
                right: 0.25rem;
                font-size: 0.7rem;
            }

            .highlight {
                padding: 0.875rem;
            }

            .sidebar-content {
                width: 280px;
            }

            .btn {
                padding: 0.6rem 1.2rem;
                font-size: 0.85rem;
            }

            .code-input {
                min-height: 80px;
                padding: 0.75rem;
                font-size: 0.8rem;
            }

            .code-block {
                padding: 0.75rem;
                font-size: 0.75rem;
            }
        }

        /* Redesigned Navigation Popup - Vertical Pills */
        .nav-popup {
            position: fixed;
            top: 50%;
            right: 1rem;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(12px);
            border-radius: 16px;
            padding: 1rem 0.75rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.12);
            border: 1px solid rgba(255, 255, 255, 0.3);
            z-index: 999;
            width: 60px;
            opacity: 0;
            transform: translateY(-50%) translateX(20px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            pointer-events: none;
        }

        .nav-popup.visible {
            opacity: 1;
            transform: translateY(-50%) translateX(0);
            pointer-events: auto;
        }

        .nav-popup.hidden {
            transform: translateY(-50%) translateX(60px);
            opacity: 0.3;
        }

        .nav-sections {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
        }

        .nav-pill {
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: 600;
            text-decoration: none;
            color: var(--text-color);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
            border: 2px solid transparent;
            text-align: center;
            line-height: 1;
            word-break: break-word;
            position: relative;
        }

        .nav-pill.current {
            background: var(--python-blue);
            color: white;
            transform: scale(1.1);
            box-shadow: 0 4px 12px rgba(55, 118, 171, 0.3);
            border-color: var(--python-blue);
        }

        .nav-pill.near-before,
        .nav-pill.near-after {
            background: rgba(55, 118, 171, 0.15);
            color: var(--python-blue);
            opacity: 0.8;
            transform: scale(0.9);
        }

        .nav-pill.far-before,
        .nav-pill.far-after {
            background: rgba(55, 118, 171, 0.08);
            color: var(--text-light);
            opacity: 0.5;
            transform: scale(0.75);
            filter: blur(0.5px);
        }

        .nav-pill:hover {
            transform: scale(1.05);
            background: rgba(55, 118, 171, 0.2);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .nav-pill.current:hover {
            transform: scale(1.15);
        }

        /* Hide/Show Arrow */
        .nav-toggle {
            position: fixed;
            top: 50%;
            right: 0.5rem;
            transform: translateY(-50%);
            width: 32px;
            height: 32px;
            background: rgba(55, 118, 171, 0.9);
            color: white;
            border: none;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1000;
            opacity: 0;
            transform: translateY(-50%) translateX(20px);
            transition: all 0.3s ease;
            font-size: 0.8rem;
        }

        .nav-toggle.visible {
            opacity: 1;
            transform: translateY(-50%) translateX(0);
        }

        .nav-toggle:hover {
            background: var(--python-blue);
            transform: translateY(-50%) translateX(-2px) scale(1.1);
        }

        /* Complete horizontal scroll prevention */
        html, body {
            overflow-x: hidden;
            max-width: 100vw;
            width: 100%;
        }

        * {
            max-width: 100%;
            box-sizing: border-box;
        }

        .code-input, .interactive-demo, .card, .main-content, .header-container {
            overflow-x: hidden;
            word-wrap: break-word;
            max-width: 100%;
        }

        /* Prevent any element from causing horizontal overflow */
        .code-block, .output, pre, code {
            overflow-x: auto;
            max-width: 100%;
            word-wrap: break-word;
            white-space: pre-wrap;
        }

        /* Ensure grid containers don't overflow */
        .grid, .grid-2, .grid-3, .grid-compact, .grid-exercises {
            max-width: 100%;
            overflow: hidden;
        }

        @media (max-width: 1200px) {
            .grid-3 {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .grid-exercises {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .card.wide-code {
                grid-column: span 1;
                min-width: 100%;
            }
        }

        @media (max-width: 992px) {
            .nav-popup {
                width: 50px;
                right: 0.75rem;
            }
            
            .nav-pill {
                width: 36px;
                height: 36px;
                font-size: 0.65rem;
            }
            
            .nav-toggle {
                width: 28px;
                height: 28px;
                right: 0.25rem;
            }
        }

        @media (max-width: 480px) {
            .hero {
                padding: 1.5rem 0;
            }

            .hero h2 {
                font-size: 1.4rem;
            }

            .hero p {
                font-size: 0.9rem;
            }

            .main-content {
                padding: 1.25rem 0.75rem;
            }

            .section {
                margin-bottom: 2rem;
            }

            .section-header {
                margin-bottom: 1.25rem;
            }

            .section-title {
                font-size: 1.4rem;
            }

            .section-title i {
                font-size: 1.2rem;
                padding: 0.3rem;
            }

            .section-subtitle {
                font-size: 0.9rem;
            }

            .card {
                padding: 1rem;
                border-radius: 10px;
            }

            .card-icon {
                width: 32px;
                height: 32px;
                font-size: 0.9rem;
                border-radius: 8px;
            }

            .card-title {
                font-size: 1rem;
            }

            .card-description {
                font-size: 0.85rem;
                margin-bottom: 0.875rem;
            }

            .grid, .grid-2, .grid-3, .grid-compact {
                gap: 1rem;
            }

            .interactive-demo {
                padding: 1rem;
                border-radius: 10px;
            }

            .highlight {
                padding: 0.75rem;
                border-radius: 6px;
            }

            .btn {
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
                border-radius: 6px;
            }

            .sidebar-content {
                width: 260px;
            }

            .header-container {
                padding: 0 0.75rem;
            }

            .code-input {
                min-height: 70px;
                padding: 0.625rem;
                font-size: 0.75rem;
            }

            .code-block {
                padding: 0.625rem;
                font-size: 0.7rem;
            }
        }

    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="header-container">
            <nav class="navbar">
                <a href="../../index.html" class="logo">
                    <div class="logo-icon">
                        <i class="fab fa-python"></i>
                    </div>
                    <h1>Python Tutorial</h1>
                </a>

                <!-- Desktop Navigation -->
                <ul class="nav-links">
                    <li><a href="../../index.html"><i class="fas fa-home"></i> Home</a></li>
                    
                    <li class="dropdown">
                        <a href="#fondamenti" class="dropdown-toggle"><i class="fas fa-book-open"></i> Fondamenti <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-menu">
                            <a href="#repl" class="dropdown-item"><i class="fas fa-terminal"></i> REPL</a>
                            <a href="#sintassi" class="dropdown-item"><i class="fas fa-code"></i> Sintassi</a>
                            <a href="#tipi" class="dropdown-item"><i class="fas fa-tags"></i> Tipi di Dati</a>
                            <a href="#operatori" class="dropdown-item"><i class="fas fa-calculator"></i> Operatori</a>
                            <a href="#costrutti" class="dropdown-item"><i class="fas fa-cogs"></i> Costrutti</a>
                        </div>
                    </li>
                    
                    <li><a href="#motivazioni"><i class="fas fa-star"></i> Perché Python</a></li>
                    
                    <li class="dropdown">
                        <a href="#pratica" class="dropdown-toggle"><i class="fas fa-code"></i> Pratica <i class="fas fa-chevron-down"></i></a>
                        <div class="dropdown-menu">
                            <a href="#esempi" class="dropdown-item"><i class="fas fa-lightbulb"></i> Esempi</a>
                            <a href="#esercizi" class="dropdown-item"><i class="fas fa-graduation-cap"></i> Esercizi</a>
                            <a href="#concetti" class="dropdown-item"><i class="fas fa-rocket"></i> Avanzati</a>
                        </div>
                    </li>
                </ul>

                <!-- Mobile Sidebar Toggle -->
                <button class="mobile-sidebar-toggle" aria-label="Menu" aria-expanded="false">
                    <i class="fas fa-bars"></i>
                </button>
            </nav>
        </div>
    </header>

    <!-- Mobile Sidebar -->
    <div class="mobile-sidebar" id="mobileSidebar">
        <div class="sidebar-overlay"></div>
        <nav class="sidebar-content">
            <div class="sidebar-header">
                <h3>Navigazione</h3>
                <button class="sidebar-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="sidebar-menu">
                <a href="../../index.html" class="sidebar-link">
                    <i class="fas fa-home"></i> Home
                </a>
                
                <div class="sidebar-section">
                    <button class="sidebar-section-toggle">
                        <span><i class="fas fa-book-open"></i> Fondamenti</span>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </button>
                    <div class="sidebar-submenu">
                        <a href="#repl" class="sidebar-sublink"><i class="fas fa-terminal"></i> REPL</a>
                        <a href="#sintassi" class="sidebar-sublink"><i class="fas fa-code"></i> Sintassi</a>
                        <a href="#tipi" class="sidebar-sublink"><i class="fas fa-tags"></i> Tipi di Dati</a>
                        <a href="#operatori" class="sidebar-sublink"><i class="fas fa-calculator"></i> Operatori</a>
                        <a href="#costrutti" class="sidebar-sublink"><i class="fas fa-cogs"></i> Costrutti</a>
                    </div>
                </div>
                
                <a href="#motivazioni" class="sidebar-link">
                    <i class="fas fa-star"></i> Perché Python
                </a>
                
                <div class="sidebar-section">
                    <button class="sidebar-section-toggle">
                        <span><i class="fas fa-code"></i> Pratica</span>
                        <i class="fas fa-chevron-down toggle-icon"></i>
                    </button>
                    <div class="sidebar-submenu">
                        <a href="#esempi" class="sidebar-sublink"><i class="fas fa-lightbulb"></i> Esempi</a>
                        <a href="#esercizi" class="sidebar-sublink"><i class="fas fa-graduation-cap"></i> Esercizi</a>
                        <a href="#concetti" class="sidebar-sublink"><i class="fas fa-rocket"></i> Avanzati</a>
                    </div>
                </div>
            </div>
    </div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h2>Introduzione a Python</h2>
            <p>Guida completa ai concetti fondamentali del linguaggio di programmazione più versatile</p>
        </div>
    </section>

    <!-- Main Content -->
    <main class="main-content">
        <section id="repl" class="section fade-in">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-terminal"></i>
                    REPL: Read, Evaluate, Print, Loop
                </h2>
                <p class="section-subtitle">Esegui codice Python immediatamente senza compilazione</p>
            </div>

                <p>Python è un linguaggio <strong>interpretato</strong> che utilizza un REPL. Quando inserisci un'espressione, viene immediatamente interpretata e il risultato mostrato.</p>

                <div class="highlight">
                    <i class="fas fa-lightbulb highlight-icon"></i>
                    <strong>Importante:</strong> Non serve scrivere <code>print</code> per vedere il risultato di un'espressione!
                </div>

                <div class="interactive-demo">
                    <div class="demo-title">
                        <i class="fas fa-play-circle"></i>
                        Prova il REPL Python
                    </div>
                    <textarea class="code-input" placeholder="Scrivi codice Python... (es: 23 + 33)">23 + 33</textarea>
                    <div class="demo-controls">
                        <span>Inserisci un'espressione e premi Esegui</span>
                        <button class="btn" onclick="runCode(this)">
                            <i class="fas fa-play"></i>
                            Esegui
                        </button>
                    </div>
                    <div class="output"></div>
                </div>

            <div class="grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i class="fas fa-play"></i>
                        </div>
                        <h3 class="card-title">Hello World</h3>
                    </div>
                    <p class="card-description">Il programma più semplice in Python:</p>
                    <div class="code-block"><span class="function">print</span>(<span class="string">"Hello World"</span>)</div>
                </div>
            </div>
            </section>

        <section id="sintassi" class="section fade-in">
            <div class="section-header">
                <h2 class="section-title">
                    <i class="fas fa-code"></i>
                    Sintassi di Base
                </h2>
                <p class="section-subtitle">Le regole fondamentali per scrivere codice Python</p>
            </div>

            <div class="grid">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon">
                            <i class="fas fa-indent"></i>
                        </div>
                        <h3 class="card-title">Indentazione</h3>
                    </div>
                    <p class="card-description">Raggruppa le istruzioni con l'indentazione (4 spazi):</p>
                        <div class="code-block"><span class="keyword">if</span> <span class="keyword">True</span>:
    <span class="function">print</span>(<span class="string">"Blocco indentato"</span>)
<span class="function">print</span>(<span class="string">"Fuori dal blocco"</span>)</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-comment"></i>
                            </div>
                            <h3>Commenti</h3>
                        </div>
                        <p>Usa <code>#</code> per i commenti:</p>
                        <div class="code-block"><span class="comment"># Questo è un commento</span>
a = <span class="number">5</span>  <span class="comment"># Commento inline</span></div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-equals"></i>
                            </div>
                            <h3>Assegnamento</h3>
                        </div>
                        <p><code>=</code> assegna, <code>==</code> confronta:</p>
                        <div class="code-block">a = <span class="number">6</span>        <span class="comment"># assegnamento</span>
<span class="keyword">if</span> a == <span class="number">5</span>:   <span class="comment"># confronto</span>
    <span class="function">print</span>(<span class="string">"a è 5"</span>)</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-font"></i>
                            </div>
                            <h3>Case Sensitive</h3>
                        </div>
                        <p>Distingue maiuscole/minuscole:</p>
                        <div class="code-block">Variable = <span class="string">"diverso da"</span>
variable = <span class="string">"questa variabile"</span></div>
                    </div>
                </div>
            </section>

            <section id="tipi" class="section">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-tags"></i>
                    </div>
                    <h2>Tipi di Dati</h2>
                </div>

                <div class="highlight">
                    <i class="fas fa-info-circle highlight-icon"></i>
                    <strong>Tipizzazione dinamica:</strong> I tipi sono associati agli oggetti, non alle variabili.
                </div>

                <div class="type-list">
                    <div class="type-item">
                        <div class="type-icon">
                            <i class="fas fa-hashtag"></i>
                        </div>
                        <div class="type-content">
                            <h4>int - Numeri Interi</h4>
                            <p>Dimensione illimitata. Supporta hex (0x), ottale (0o), binario (0b)</p>
                            <div class="code-block">a = <span class="number">999999999999999999999999999999</span>
b = <span class="number">0xFF</span>  <span class="comment"># 255 in hex</span></div>
                        </div>
                    </div>

                    <div class="type-item">
                        <div class="type-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <div class="type-content">
                            <h4>float - Numeri Decimali</h4>
                            <p>Con punto decimale o notazione scientifica</p>
                            <div class="code-block">pi = <span class="number">3.14159</span>
grande = <span class="number">1e100</span></div>
                        </div>
                    </div>

                    <div class="type-item">
                        <div class="type-icon">
                            <i class="fas fa-square-root-alt"></i>
                        </div>
                        <div class="type-content">
                            <h4>complex - Numeri Complessi</h4>
                            <p>Parte reale e immaginaria con suffisso <code>j</code></p>
                            <div class="code-block">z = <span class="number">3</span> + <span class="number">2j</span>
w = <span class="function">complex</span>(1, -1)</div>
                        </div>
                    </div>

                    <div class="type-item">
                        <div class="type-icon">
                            <i class="fas fa-quote-right"></i>
                        </div>
                        <div class="type-content">
                            <h4>str - Stringhe</h4>
                            <p>Sequenze di caratteri immutabili</p>
                            <div class="code-block">nome = <span class="string">"Python"</span>
messaggio = <span class="string">'Hello!'</span></div>
                        </div>
                    </div>

                    <div class="type-item">
                        <div class="type-icon">
                            <i class="fas fa-list-ul"></i>
                        </div>
                        <div class="type-content">
                            <h4>list - Liste</h4>
                            <p>Sequenze mutabili di oggetti</p>
                            <div class="code-block">numeri = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]
mista = [<span class="number">1</span>, <span class="string">"ciao"</span>, <span class="keyword">True</span>]</div>
                        </div>
                    </div>

                    <div class="type-item">
                        <div class="type-icon">
                            <i class="fas fa-toggle-on"></i>
                        </div>
                        <div class="type-content">
                            <h4>bool - Booleani</h4>
                            <p>True/False. Supporta Truthy/Falsy</p>
                            <div class="code-block">vero = <span class="keyword">True</span>
falso = <span class="keyword">False</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="operatori" class="section">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h2>Operatori Matematici</h2>
                </div>

                <div class="operator-grid">
                    <div class="operator-item" onclick="testOperator('+', 8, 3)">
                        <div class="operator-symbol">+</div>
                        <div class="operator-name">Addizione</div>
                    </div>
                    <div class="operator-item" onclick="testOperator('-', 8, 3)">
                        <div class="operator-symbol">-</div>
                        <div class="operator-name">Sottrazione</div>
                    </div>
                    <div class="operator-item" onclick="testOperator('*', 8, 3)">
                        <div class="operator-symbol">*</div>
                        <div class="operator-name">Moltiplicazione</div>
                    </div>
                    <div class="operator-item" onclick="testOperator('/', 8, 3)">
                        <div class="operator-symbol">/</div>
                        <div class="operator-name">Divisione</div>
                    </div>
                    <div class="operator-item" onclick="testOperator('//', 8, 3)">
                        <div class="operator-symbol">//</div>
                        <div class="operator-name">Div. Intera</div>
                    </div>
                    <div class="operator-item" onclick="testOperator('**', 2, 3)">
                        <div class="operator-symbol">**</div>
                        <div class="operator-name">Potenza</div>
                    </div>
                    <div class="operator-item" onclick="testOperator('%', 8, 3)">
                        <div class="operator-symbol">%</div>
                        <div class="operator-name">Modulo</div>
                    </div>
                </div>

                <div class="interactive-demo">
                    <div class="demo-title">
                        <i class="fas fa-calculator"></i>
                        Test Operatori
                    </div>
                    <div id="operator-result" class="output" style="display: none;"></div>
                </div>
            </section>

            <section id="costrutti" class="section">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-cogs"></i>
                    </div>
                    <h2>Costrutti Principali</h2>
                </div>

                <div class="grid grid-3">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-question"></i>
                            </div>
                            <h3>if-elif-else</h3>
                        </div>
                        <p>Strutture condizionali:</p>
                        <div class="code-block"><span class="keyword">if</span> x > <span class="number">0</span>:
    <span class="function">print</span>(<span class="string">"Positivo"</span>)
<span class="keyword">elif</span> x < <span class="number">0</span>:
    <span class="function">print</span>(<span class="string">"Negativo"</span>)
<span class="keyword">else</span>:
    <span class="function">print</span>(<span class="string">"Zero"</span>)</div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-repeat"></i>
                            </div>
                            <h3>for Loop</h3>
                        </div>
                        <p>Iterazione su sequenze:</p>
                        <div class="code-block"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="function">range</span>(<span class="number">5</span>):
    <span class="function">print</span>(i)</div>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 60px;">for i in range(3):
    print(f"Numero: {i}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-function"></i>
                            </div>
                            <h3>Funzioni</h3>
                        </div>
                        <p>Definire funzioni riutilizzabili:</p>
                        <div class="code-block"><span class="keyword">def</span> <span class="function">saluta</span>(nome):
    <span class="keyword">return</span> <span class="string">f"Ciao, {nome}!"</span></div>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 80px;">def quadrato(n):
    return n * n

print(quadrato(5))</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-keyboard"></i>
                            </div>
                            <h3>Input dell'Utente</h3>
                        </div>
                        <p>Acquisire dati da tastiera:</p>
                        <div class="code-block"><span class="function">input</span>(<span class="string">"Come ti chiami? "</span>)</div>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 60px;">nome = input("Come ti chiami? ")
print(f"Ciao {nome}!")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>
                </div>

<div class="highlight">
                    <i class="fas fa-star highlight-icon"></i>
                    <strong>Truthy/Falsy:</strong> Valori "vuoti" (0, "", [], None) sono Falsy, tutto il resto è Truthy.
                </div>

                <div class="grid grid-2">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-exchange-alt"></i>
                            </div>
                            <h3>Assegnamento Multiplo</h3>
                        </div>
                        <p>Assegna più variabili contemporaneamente:</p>
                        <div class="code-block">a, b, c = <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>
<span class="comment"># Scambio valori</span>
a, b = b, a</div>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 80px;">a, b = 10, 20
print(f"Prima: a={a}, b={b}")
a, b = b, a
print(f"Dopo: a={a}, b={b}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-sync"></i>
                            </div>
                            <h3>while Loop</h3>
                        </div>
                        <p>Ripetizione basata su condizione:</p>
                        <div class="code-block"><span class="keyword">while</span> condizione:
    <span class="comment"># blocco while</span>
<span class="keyword">else</span>:
    <span class="comment"># se non c'è break</span></div>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 80px;">i = 0
while i < 3:
    print(f"i = {i}")
    i += 1</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <h3>Funzioni vs Metodi</h3>
                        </div>
                        <p>Nei metodi il nome è preceduto dall'oggetto:</p>
                        <div class="code-block">class Saluto:
    def hello(self):
        print("Ciao")

sal = Saluto()
sal.hello()</div>
                    </div>
                </div>

                <div class="interactive-demo">
                    <div class="demo-title">
                        <i class="fas fa-vial"></i>
                        Test Truthy/Falsy
                    </div>
                    <textarea class="code-input">valori = [0, 1, "", "hello", [], [1, 2], None, True, False]
for v in valori:
    risultato = "Truthy" if v else "Falsy"
    print(f"{repr(v)} è {risultato}")</textarea>
                    <div class="demo-controls">
                        <span>Testa i valori Truthy e Falsy</span>
                        <button class="btn" onclick="runCode(this)">
                            <i class="fas fa-play"></i> Esegui
                        </button>
                    </div>
                    <div class="output"></div>
                </div>
            <section id="motivazioni" class="section">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-star"></i>
                    </div>
                    <h2>Motivazioni per Usare Python</h2>
                </div>

                <div class="grid grid-2">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-layer-group"></i>
                            </div>
                            <h3>Multiparadigma</h3>
                        </div>
                        <p>Python supporta diversi stili di programmazione: procedurale, orientato agli oggetti e funzionale. Puoi scegliere l'approccio migliore per ogni problema.</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-heart"></i>
                            </div>
                            <h3>Facilità</h3>
                        </div>
                        <p>Python è relativamente facile da imparare e ha una vasta comunità di supporto con documentazione eccellente.</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-tachometer-alt"></i>
                            </div>
                            <h3>Efficienza</h3>
                        </div>
                        <p>Sebbene interpretato, Python può essere ottimizzato grazie all'uso di librerie scritte in C per le operazioni critiche.</p>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-book"></i>
                            </div>
                            <h3>Librerie</h3>
                        </div>
                        <p>Python ha un'enorme quantità di librerie per diversi scopi: web development, data science, AI, automazione e molto altro.</p>
                    </div>
                </div>

                <div class="highlight">
                    <i class="fas fa-puzzle-piece highlight-icon"></i>
                    <strong>Cosa sono le librerie?</strong> Sono collezioni di moduli predefiniti che forniscono strumenti e funzioni per eseguire compiti specifici, rendendo Python estremamente versatile.
                </div>

                <div class="interactive-demo">
                    <div class="demo-title">
                        <i class="fas fa-calculator"></i>
                        Esempio di Libreria Math
                    </div>
                    <textarea class="code-input" style="min-height: 100px;"># Esempio di utilizzo della libreria math
import math

print(f"Radice quadrata di 16: {math.sqrt(16)}")
print(f"Pi greco: {math.pi:.4f}")
print(f"Seno di 90 gradi: {math.sin(math.radians(90))}")
print(f"Logaritmo naturale di e: {math.log(math.e)}")
print(f"2 elevato alla 10: {math.pow(2, 10)}")</textarea>
                    <button class="btn" onclick="runCode(this)">
                        <i class="fas fa-play"></i> Esegui
                    </button>
                    <div class="output"></div>
                </div>
            </section>

            <section id="vantaggi" class="section">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h2>Vantaggi e Svantaggi dei Linguaggi Interpretati</h2>
                </div>

                <div class="grid grid-2">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background-color: var(--success-color);">
                                <i class="fas fa-thumbs-up"></i>
                            </div>
                            <h3>Vantaggi</h3>
                        </div>
                        <div class="type-list">
                            <div class="type-item">
                                <div class="type-icon" style="background-color: var(--success-color);">
                                    <i class="fas fa-zap"></i>
                                </div>
                                <div class="type-content">
                                    <h4>Semplicità</h4>
                                    <p>Facile provare subito il codice senza compilazione. Scrivi una riga e vedi immediatamente il risultato.</p>
                                </div>
                            </div>

                            <div class="type-item">
                                <div class="type-icon" style="background-color: var(--success-color);">
                                    <i class="fas fa-globe"></i>
                                </div>
                                <div class="type-content">
                                    <h4>Portabilità</h4>
                                    <p>Non dipende dal sistema operativo. Python può essere eseguito su Windows, Mac, Linux senza modifiche al codice.</p>
                                </div>
                            </div>

                            <div class="type-item">
                                <div class="type-icon" style="background-color: var(--success-color);">
                                    <i class="fas fa-bug"></i>
                                </div>
                                <div class="type-content">
                                    <h4>Debugging</h4>
                                    <p>Facile individuare errori poiché l'interprete li segnala man mano che esegue il codice, riga per riga.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon" style="background-color: var(--accent-color);">
                                <i class="fas fa-thumbs-down"></i>
                            </div>
                            <h3>Svantaggi</h3>
                        </div>
                        <div class="type-list">
                            <div class="type-item">
                                <div class="type-icon" style="background-color: var(--accent-color);">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <div class="type-content">
                                    <h4>Velocità</h4>
                                    <p>L'esecuzione può essere più lenta rispetto ai linguaggi compilati, perché ogni riga deve essere interpretata al momento dell'esecuzione.</p>
                                </div>
                            </div>

                            <div class="type-item">
                                <div class="type-icon" style="background-color: var(--accent-color);">
                                    <i class="fas fa-cog"></i>
                                </div>
                                <div class="type-content">
                                    <h4>Efficienza</h4>
                                    <p>Non avendo una fase di compilazione che ottimizza il codice, può risultare meno efficiente in termini di prestazioni.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="esempi" class="section">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-lightbulb"></i>
                    </div>
                    <h2>Esempi Pratici</h2>
                </div>

                <div class="grid grid-2">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-calculator"></i>
                            </div>
                            <h3>Calcolatrice</h3>
                        </div>
                        <p>Esempio di calcolatrice semplice:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 120px;">def calcolatrice(a, b, operazione):
    if operazione == "+":
        return a + b
    elif operazione == "-":
        return a - b
    elif operazione == "*":
        return a * b
    elif operazione == "/":
        return a / b if b != 0 else "Errore: divisione per zero"
    else:
        return "Operazione non valida"

print(calcolatrice(10, 5, "+"))
print(calcolatrice(10, 5, "/"))
print(calcolatrice(10, 0, "/"))</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-list"></i>
                            </div>
                            <h3>Lavoro con Liste</h3>
                        </div>
                        <p>Operazioni comuni sulle liste:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 120px;">numeri = [1, 2, 3, 4, 5]
print(f"Lista originale: {numeri}")

# Aggiungere elementi
numeri.append(6)
print(f"Dopo append(6): {numeri}")

# Somma e media
somma = sum(numeri)
media = somma / len(numeri)
print(f"Somma: {somma}, Media: {media:.2f}")

# Filtrare numeri pari
pari = [n for n in numeri if n % 2 == 0]
print(f"Numeri pari: {pari}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-text-width"></i>
                            </div>
                            <h3>Manipolazione Stringhe</h3>
                        </div>
                        <p>Operazioni comuni sulle stringhe:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 120px;">testo = "Python è fantastico!"
print(f"Testo: '{testo}'")
print(f"Lunghezza: {len(testo)}")
print(f"Maiuscolo: {testo.upper()}")
print(f"Parole: {testo.split()}")

# Controllo contenuto
if "Python" in testo:
    print("Il testo contiene 'Python'")

# Formatting
nome = "Mario"
età = 25
print(f"Ciao {nome}, hai {età} anni!")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-hashtag"></i>
                            </div>
                            <h3>Numeri e Matematica</h3>
                        </div>
                        <p>Operazioni matematiche avanzate:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input"># Operazioni matematiche
print(f"Radice di 16: {16**0.5}")
print(f"2 alla 10: {2**10}")

# Numero primo semplice
def è_primo(n):
    if n < 2: return False
    for i in range(2, int(n**0.5) + 1):
        if n % i == 0: return False
    return True

print(f"7 è primo: {è_primo(7)}")
print(f"8 è primo: {è_primo(8)}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="esercizi" class="section">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h2>Esercizi Pratici</h2>
                </div>

                <div class="grid-exercises">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-star"></i>
                            </div>
                            <h3>Esercizio 1: FizzBuzz</h3>
                        </div>
                        <p>Stampa numeri da 1 a 15, sostituendo multipli di 3 con "Fizz", di 5 con "Buzz", di entrambi con "FizzBuzz":</p>
                        <div class="interactive-demo">
                            <textarea class="code-input"># FizzBuzz compatto
for i in range(1, 11):
    if i % 15 == 0: print("FizzBuzz")
    elif i % 3 == 0: print("Fizz")
    elif i % 5 == 0: print("Buzz")
    else: print(i)</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <h3>Esercizio 2: Fibonacci</h3>
                        </div>
                        <p>Genera i primi 10 numeri della sequenza di Fibonacci:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input"># Fibonacci semplice
def fibonacci(n):
    if n <= 1: return n
    a, b = 0, 1
    for _ in range(2, n + 1):
        a, b = b, a + b
    return b

# Primi 8 numeri
for i in range(8):
    print(f"F({i}) = {fibonacci(i)}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card wide-code">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-gamepad"></i>
                            </div>
                            <h3>Esercizio 3: Indovina il Numero</h3>
                        </div>
                        <p>Gioco semplice di indovinare un numero (simulato):</p>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 120px;"># Indovina il numero (simulato)
numero_segreto = 7
tentativi = [5, 8, 7]  # Tentativi simulati

print("Benvenuto al gioco 'Indovina il numero'!")
print("Il numero è tra 1 e 10")

for i, tentativo in enumerate(tentativi, 1):
    print(f"\nTentativo {i}: {tentativo}")

    if tentativo == numero_segreto:
        print("🎉 Complimenti! Hai indovinato!")
        break
    elif tentativo < numero_segreto:
        print("📈 Troppo basso!")
    else:
        print("📉 Troppo alto!")

print(f"\nIl numero era: {numero_segreto}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card wide-code">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-sort"></i>
                            </div>
                            <h3>Esercizio 4: Ordinamento</h3>
                        </div>
                        <p>Implementa un algoritmo di ordinamento semplice:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 120px;"># Bubble Sort semplificato
def bubble_sort(lista):
    n = len(lista)
    for i in range(n):
        for j in range(0, n - i - 1):
            if lista[j] > lista[j + 1]:
                lista[j], lista[j + 1] = lista[j + 1], lista[j]
    return lista

# Test
numeri = [64, 34, 25, 12, 22, 11, 90]
print(f"Lista originale: {numeri}")

ordinata = bubble_sort(numeri.copy())
print(f"Lista ordinata: {ordinata}")

# Ordinamento Python built-in
facile = sorted([64, 34, 25, 12, 22, 11, 90])
print(f"Con sorted(): {facile}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="concetti" class="section">
                <div class="section-title">
                    <div class="section-icon">
                        <i class="fas fa-rocket"></i>
                    </div>
                    <h2>Concetti Avanzati</h2>
                </div>

                <div class="grid grid-2">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-layer-group"></i>
                            </div>
                            <h3>List Comprehension</h3>
                        </div>
                        <p>Crea liste in modo conciso:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 100px;"># List comprehension esempi
quadrati = [x**2 for x in range(10)]
print(f"Quadrati: {quadrati}")

pari = [x for x in range(20) if x % 2 == 0]
print(f"Numeri pari: {pari}")

# Nested comprehension
matrice = [[i*j for j in range(3)] for i in range(3)]
print(f"Matrice: {matrice}")

# Con condizioni
positivi = [x for x in [-2, -1, 0, 1, 2] if x > 0]
print(f"Solo positivi: {positivi}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-key"></i>
                            </div>
                            <h3>Dizionari</h3>
                        </div>
                        <p>Strutture chiave-valore:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 100px;"># Dizionari in azione
studente = {
    "nome": "Mario",
    "età": 20,
    "voti": [8, 9, 7, 8.5]
}

print(f"Studente: {studente['nome']}")
print(f"Età: {studente['età']}")
print(f"Media voti: {sum(studente['voti'])/len(studente['voti']):.1f}")

# Aggiungere chiavi
studente["università"] = "UniBO"
print(f"Università: {studente['università']}")

# Iterare
for chiave, valore in studente.items():
    print(f"{chiave}: {valore}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-filter"></i>
                            </div>
                            <h3>Lambda e Filter</h3>
                        </div>
                        <p>Funzioni anonime e filtraggio:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 100px;"># Lambda functions
quadrato = lambda x: x**2
print(f"Quadrato di 5: {quadrato(5)}")

# Con map (simulato)
numeri = [1, 2, 3, 4, 5]
quadrati = [quadrato(x) for x in numeri]
print(f"Quadrati: {quadrati}")

# Filter con lambda (simulato)
pari = [x for x in numeri if x % 2 == 0]
print(f"Numeri pari: {pari}")

# Ordinamento con lambda
studenti = [("Alice", 85), ("Bob", 92), ("Charlie", 78)]
per_voto = sorted(studenti, key=lambda x: x[1])
print(f"Ordinati per voto: {per_voto}")</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>

                    <div class="card">
                        <div class="card-header">
                            <div class="card-icon">
                                <i class="fas fa-exclamation-triangle"></i>
                            </div>
                            <h3>Gestione Errori</h3>
                        </div>
                        <p>Try-except per gestire eccezioni:</p>
                        <div class="interactive-demo">
                            <textarea class="code-input" style="min-height: 100px;"># Gestione errori
def divisione_sicura(a, b):
    try:
        risultato = a / b
        return f"Risultato: {risultato}"
    except ZeroDivisionError:
        return "Errore: divisione per zero!"
    except TypeError:
        return "Errore: tipi non validi!"
    except Exception as e:
        return f"Errore generico: {e}"

# Test vari casi
print(divisione_sicura(10, 2))
print(divisione_sicura(10, 0))
print(divisione_sicura("10", 2))

# Finally
def test_finally():
    try:
        print("Operazione in corso...")
        return "Successo"
    finally:
        print("Pulizia sempre eseguita")

print(test_finally())</textarea>
                            <button class="btn" onclick="runCode(this)">
                                <i class="fas fa-play"></i> Esegui
                            </button>
                            <div class="output"></div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

    </main>

    <!-- Navigation Popup -->
    <div class="nav-popup" id="navPopup">
        <div class="nav-sections" id="navSections">
            <!-- Pills will be populated by JavaScript -->
        </div>
    </div>
    
    <!-- Navigation Toggle Button -->
    <button class="nav-toggle" id="navToggle" aria-label="Mostra navigazione">
        <i class="fas fa-chevron-left"></i>
    </button>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 Python Tutorial Library - Hai completato l'introduzione a Python! 🐍</p>
    </footer>

<script src="https://cdn.jsdelivr.net/pyodide/v0.25.0/full/pyodide.js"></script>
    <script>
        // Mobile sidebar functionality
        const mobileSidebarToggle = document.querySelector('.mobile-sidebar-toggle');
        const mobileSidebar = document.getElementById('mobileSidebar');
        const sidebarClose = document.querySelector('.sidebar-close');
        const sidebarOverlay = document.querySelector('.sidebar-overlay');
        let isSidebarOpen = false;

        function toggleMobileSidebar() {
            isSidebarOpen = !isSidebarOpen;
            const icon = mobileSidebarToggle.querySelector('i');

            if (isSidebarOpen) {
                mobileSidebar.classList.add('active');
                icon.className = 'fas fa-times';
                mobileSidebarToggle.setAttribute('aria-expanded', 'true');
                document.body.style.overflow = 'hidden';
            } else {
                mobileSidebar.classList.remove('active');
                icon.className = 'fas fa-bars';
                mobileSidebarToggle.setAttribute('aria-expanded', 'false');
                document.body.style.overflow = '';
            }
        }

        function closeMobileSidebar() {
            if (isSidebarOpen) {
                toggleMobileSidebar();
            }
        }

        // Event listeners for sidebar
        mobileSidebarToggle.addEventListener('click', toggleMobileSidebar);
        sidebarClose.addEventListener('click', closeMobileSidebar);
        sidebarOverlay.addEventListener('click', closeMobileSidebar);

        // Sidebar section toggles
        document.querySelectorAll('.sidebar-section-toggle').forEach(toggle => {
            toggle.addEventListener('click', function() {
                const section = this.parentElement;
                section.classList.toggle('active');
            });
        });

        // Close sidebar on link click
        document.querySelectorAll('.sidebar-sublink').forEach(link => {
            link.addEventListener('click', closeMobileSidebar);
        });

        // Close sidebar when clicking outside
        document.addEventListener('click', (e) => {
            if (isSidebarOpen && !mobileSidebar.contains(e.target) && !mobileSidebarToggle.contains(e.target)) {
                closeMobileSidebar();
            }
        });

        // Close sidebar on escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && isSidebarOpen) {
                closeMobileSidebar();
            }
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Active section highlighting in sidebar
        function updateActiveSection() {
            const sections = document.querySelectorAll('.section');
            const sidebarLinks = document.querySelectorAll('.sidebar-sublink');

            let currentSection = '';
            const scrollPos = window.scrollY + 100;

            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionBottom = sectionTop + section.offsetHeight;

                if (scrollPos >= sectionTop && scrollPos < sectionBottom) {
                    currentSection = section.getAttribute('id');
                }
            });

            sidebarLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href').substring(1) === currentSection) {
                    link.classList.add('active');
                }
            });
        }

        window.addEventListener('scroll', updateActiveSection);
        window.addEventListener('load', updateActiveSection);

        // Close sidebar on window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768 && isSidebarOpen) {
                closeMobileSidebar();
            }
        });

        // Pyodide setup
        let pyodideReady = false;
    let pyodide = null;

async function loadPyodideAndPackages() {
    try {
        pyodide = await loadPyodide();
        pyodideReady = true;
        console.log("Pyodide caricato con successo!");

        // Aggiorna l'interfaccia per mostrare che è pronto
        document.querySelectorAll('.btn').forEach(btn => {
            if (btn.textContent.includes('Esegui')) {
                btn.style.background = '#28a745'; // Verde
            }
        });
    } catch (error) {
        console.error("Errore nel caricamento di Pyodide:", error);
        pyodideReady = false;
    }
}
    loadPyodideAndPackages();

    async function runCode(button) {
        const container = button.closest('.interactive-demo') || button.closest('.card');
        const input = container.querySelector('.code-input');
        const output = container.querySelector('.output');
        const code = input.value.trim();

        if (!code) {
            output.textContent = 'Inserisci del codice';
            output.className = 'output error';
            output.style.display = 'block';
            return;
        }

        button.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Esecuzione...';
        button.disabled = true;

        if (!pyodideReady) {
            output.textContent = 'Pyodide non è ancora pronto, attendi...';
            output.className = 'output error';
            output.style.display = 'block';
            button.innerHTML = '<i class="fas fa-play"></i> Esegui';
            button.disabled = false;
            return;
        }

        try {
            let result = await pyodide.runPythonAsync(`
import sys
import io
sys.stdout = io.StringIO()
sys.stderr = io.StringIO()
${code}
sys.stdout.getvalue() + sys.stderr.getvalue()
            `);
            output.textContent = result || 'Eseguito';
            output.className = 'output success';
            output.style.display = 'block';
        } catch (error) {
            output.textContent = 'Errore: ' + error;
            output.className = 'output error';
            output.style.display = 'block';
        }
        button.innerHTML = '<i class="fas fa-play"></i> Esegui';
        button.disabled = false;
    }

    function testOperator(op, a, b) {
        const resultDiv = document.getElementById('operator-result');
        if (!resultDiv) return;

        try {
            let result;
            switch (op) {
                case '+': result = a + b; break;
                case '-': result = a - b; break;
                case '*': result = a * b; break;
                case '/': result = (a / b).toFixed(3); break;
                case '//': result = Math.floor(a / b); break;
                case '**': result = Math.pow(a, b); break;
                case '%': result = a % b; break;
                default: result = 'Operatore non supportato';
            }

            resultDiv.textContent = `${a} ${op} ${b} = ${result}`;
            resultDiv.className = 'output success';
            resultDiv.style.display = 'block';

        } catch (error) {
            resultDiv.textContent = `Errore: ${error.message}`;
            resultDiv.className = 'output error';
            resultDiv.style.display = 'block';
        }
    }

    // Navigazione e inizializzazione
    document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const targetId = this.getAttribute('href').substring(1);
            const targetElement = document.getElementById(targetId);

            if (targetElement) {
                targetElement.scrollIntoView({
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        });
    });

    function updateActiveSection() {
        const sections = document.querySelectorAll('.section');
        const navLinks = document.querySelectorAll('.nav-link');

        let currentSection = '';
        const scrollPos = window.scrollY + 100;

        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            const sectionBottom = sectionTop + section.offsetHeight;

            if (scrollPos >= sectionTop && scrollPos < sectionBottom) {
                currentSection = section.getAttribute('id');
            }
        });

        navLinks.forEach(link => {
            link.classList.remove('active');
            if (link.getAttribute('href').substring(1) === currentSection) {
                link.classList.add('active');
            }
        });
    }

    window.addEventListener('scroll', updateActiveSection);
    window.addEventListener('load', updateActiveSection);

    // Gestione Ctrl+Enter per eseguire codice
    document.addEventListener('keydown', function(e) {
        if (e.ctrlKey && e.key === 'Enter') {
            const target = e.target;
            if (target.classList.contains('code-input')) {
                const button = target.closest('.interactive-demo').querySelector('.btn');
                if (button) runCode(button);
            }
        }
    });

    // Enhanced Navigation Popup Functionality
    const navPopup = document.getElementById('navPopup');
    const navSections = document.getElementById('navSections');
    const navToggle = document.getElementById('navToggle');
    
    const sections = [
        { id: 'intro', title: 'Intro', short: 'IN' },
        { id: 'repl', title: 'REPL', short: 'RE' },
        { id: 'sintassi', title: 'Sintassi', short: 'SI' },
        { id: 'tipi', title: 'Tipi', short: 'TI' },
        { id: 'operatori', title: 'Operatori', short: 'OP' },
        { id: 'costrutti', title: 'Costrutti', short: 'CO' },
        { id: 'motivazioni', title: 'Perché', short: 'PY' },
        { id: 'esempi', title: 'Esempi', short: 'ES' },
        { id: 'esercizi', title: 'Esercizi', short: 'EX' },
        { id: 'concetti', title: 'Avanzati', short: 'AV' }
    ];
    
    let currentSectionIndex = 0;
    let popupTimeout;
    let isPopupHidden = false;
    let autoHideTimeout;
    
    function createNavPills() {
        navSections.innerHTML = '';
        
        // Determina il range di sezioni da mostrare (max 5: 2 prima + corrente + 2 dopo)
        const startIndex = Math.max(0, currentSectionIndex - 2);
        const endIndex = Math.min(sections.length - 1, currentSectionIndex + 2);
        
        for (let i = startIndex; i <= endIndex; i++) {
            const section = sections[i];
            const pill = document.createElement('a');
            pill.href = '#' + section.id;
            pill.textContent = section.short;
            pill.className = 'nav-pill';
            pill.title = section.title;
            
            // Assegna le classi in base alla posizione relativa
            if (i === currentSectionIndex) {
                pill.classList.add('current');
            } else if (i < currentSectionIndex) {
                const distance = currentSectionIndex - i;
                pill.classList.add(distance === 1 ? 'near-before' : 'far-before');
            } else {
                const distance = i - currentSectionIndex;
                pill.classList.add(distance === 1 ? 'near-after' : 'far-after');
            }
            
            pill.addEventListener('click', (e) => {
                e.preventDefault();
                const targetElement = document.getElementById(section.id);
                if (targetElement) {
                    targetElement.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
            
            navSections.appendChild(pill);
        }
    }
    
    function showNavPopup() {
        if (isPopupHidden) return;
        
        clearTimeout(popupTimeout);
        clearTimeout(autoHideTimeout);
        
        createNavPills();
        navPopup.classList.remove('hidden');
        navPopup.classList.add('visible');
        navToggle.classList.remove('visible');
        
        // Auto-hide dopo 4 secondi
        autoHideTimeout = setTimeout(() => {
            if (!navPopup.matches(':hover')) {
                hideNavPopup();
            }
        }, 4000);
    }
    
    function hideNavPopup() {
        navPopup.classList.remove('visible');
        navPopup.classList.add('hidden');
        navToggle.classList.add('visible');
        clearTimeout(popupTimeout);
        clearTimeout(autoHideTimeout);
        isPopupHidden = true;
        
        // Reset dopo un po'
        setTimeout(() => {
            isPopupHidden = false;
        }, 2000);
    }
    
    function forceShowNavPopup() {
        isPopupHidden = false;
        navPopup.classList.remove('hidden');
        navToggle.classList.remove('visible');
        showNavPopup();
    }
    
    function updateCurrentSection() {
        const scrollPos = window.scrollY + 150;
        let newCurrentIndex = 0;
        
        sections.forEach((section, index) => {
            const element = document.getElementById(section.id);
            if (element) {
                const rect = element.getBoundingClientRect();
                const elementTop = rect.top + window.scrollY;
                
                if (scrollPos >= elementTop) {
                    newCurrentIndex = index;
                }
            }
        });
        
        if (newCurrentIndex !== currentSectionIndex) {
            currentSectionIndex = newCurrentIndex;
            showNavPopup();
        }
    }
    
    // Event listeners
    window.addEventListener('scroll', updateCurrentSection);
    
    navPopup.addEventListener('mouseenter', () => {
        clearTimeout(autoHideTimeout);
    });
    
    navPopup.addEventListener('mouseleave', () => {
        autoHideTimeout = setTimeout(() => {
            hideNavPopup();
        }, 1000);
    });
    
    navToggle.addEventListener('click', forceShowNavPopup);
    
    // Touch events for mobile
    navToggle.addEventListener('touchstart', forceShowNavPopup);

    // Inizializzazione
    document.addEventListener('DOMContentLoaded', function() {
        updateCurrentSection();
        setTimeout(showNavPopup, 1000); // Mostra il popup inizialmente
        updateActiveSection();

        // Auto-focus primo input
        const firstInput = document.querySelector('.code-input');
        if (firstInput) {
            firstInput.focus();
        }
    });

    // Funzione per auto-espandere i textarea in base al contenuto
function autoResizeTextarea(textarea) {
    textarea.style.height = 'auto';
    textarea.style.height = (textarea.scrollHeight + 2) + 'px';
}

// Inizializza gli textarea esistenti
document.querySelectorAll('textarea.code-input').forEach(textarea => {
    autoResizeTextarea(textarea);

    // Aggiungi evento input per l'auto-espansione
    textarea.addEventListener('input', function() {
        autoResizeTextarea(this);
    });
});
    </script>
</body>
</html>
